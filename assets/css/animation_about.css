.cube {
  position: relative;
  width: 130px;
  height: 30px;
  margin: 0px auto -4px auto;
  transform-style: preserve-3d;
  transform: translateY(30px) rotateX(-30deg) rotateY(-45deg) rotateZ(0deg);

}
.cube div {
  width: 33px;
  height: 33px; 
  position: absolute;
  box-sizing: border-box;
  background-clip: content-box;
}
.cube div.top {
  background-color: #df39fd;
  transform: rotateX(90deg);
  transform-origin: 0% 0%;
  animation: top 4s linear infinite;
}
.cube div.left {
  background-color: #db20fd;
  transform: translateZ(30px);
  animation: left 4s linear infinite;
}
.cube div.right {
  background-color: #d808fd;
  transform: rotateY(-90deg) translateZ(-30px);
  transform-origin: 0% 50%;
  animation: right 4s linear infinite;
}
.cube:nth-of-type(2n) div {
  animation-direction: reverse;
}
.cube:nth-of-type(2n) div.top {
  background-color:  #08FDD8;

}
.cube:nth-of-type(2n) div.left {
  background-color: #05b197;
}
.cube:nth-of-type(2n) div.right {
  background-color: #049781;
}

div.cube:nth-of-type(2n+1) {
  z-index: 9;
}
div.cube:nth-of-type(2n+1) div {
  animation-delay: 0ms;
}

div.cube:nth-of-type(2n+2) {
  z-index: 8;
}
div.cube:nth-of-type(2n+2) div {
  animation-delay: 0ms;
}

div.cube:nth-of-type(2n+3) {
  z-index: 7;
}
div.cube:nth-of-type(2n+3) div {
  animation-delay: 0ms;
}

div.cube:nth-of-type(2n+4) {
  z-index: 6;
}
div.cube:nth-of-type(2n+4) div {
  animation-delay: 0ms;
}

div.cube:nth-of-type(2n+5) {
  z-index: 5;
}
div.cube:nth-of-type(2n+5) div {
  animation-delay: 0ms;
}

div.cube:nth-of-type(2n+6) {
  z-index: 4;
}
div.cube:nth-of-type(2n+6) div {
  animation-delay: 0ms;
}

div.cube:nth-of-type(2n+7) {
  z-index: 3;
}
div.cube:nth-of-type(2n+7) div {
  animation-delay: 0ms;
}

div.cube:nth-of-type(2n+8) {
  z-index: 2;
}
div.cube:nth-of-type(2n+8) div {
  animation-delay: 0ms;
}

div.cube:nth-of-type(2n+9) {
  z-index: 1;
}
div.cube:nth-of-type(2n+9) div {
  animation-delay: 0ms;
}

div.cube:nth-of-type(2n+10) {
  z-index: 0;
}
div.cube:nth-of-type(2n+10) div {
  animation-delay: 0ms;
}

@keyframes top {
  12.5% {
    height: 120px;
    padding-top: 0;
  }
  25% {
    width: 30px;
    padding-top: 90px;
  }
  37.5% {
    width: 121px;
    padding-left: 0;
  }
  50% {
    padding-top: 90px;
    padding-left: 90px;
  }
  62.5% {
    height: 120px;
    padding-top: 0;
  }
  75% {
    height: 30px;
    padding-left: 90px;
  }
  87.5% {
    width: 121px;
    padding-left: 0;
  }
  100% {
    width: 30px;
  }
}
@keyframes left {
  12.5% {
    transform: translateZ(120px);
  }
  25% {
    width: 30px;
  }
  37.5% {
    width: 121px;
    padding-left: 0;
    transform: translateZ(120px);
  }
  50% {
    padding-left: 90px;
  }
  62.5% {
    transform: translateZ(120px);
  }
  75% {
    padding-left: 90px;
    transform: translateZ(30px);
  }
  87.5% {
    width: 121px;
    padding-left: 0;
  }
  100% {
    width: 30px;
  }
}
@keyframes right {
  12.5% {
    width: 120px;
    transform: rotateY(-90deg) translateZ(-30px);
    padding-left: 0;
  }
  25% {
    transform: rotateY(-90deg) translateZ(-30px);
    padding-left: 90px;
  }
  37.5% {
    transform: rotateY(-90deg) translateZ(-120px);
  }
  50% {
    transform: rotateY(-90deg) translateZ(-120px);
    padding-left: 90px;
  }
  62.5% {
    width: 121px;
    transform: rotateY(-90deg) translateZ(-120px);
    padding-left: 0;
  }
  75% {
    width: 30px;
    transform: rotateY(-90deg) translateZ(-120px);
  }
  87.5% {
    transform: rotateY(-90deg) translateZ(-120px);
  }
  100% {
    transform: rotateY(-90deg) translateZ(-30px);
  }
}
